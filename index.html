<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="misapplication-tap-highlight" content="no" />
    <meta name="HandheldFriendly" content="true" />
    <meta name="MobileOptimized" content="320" />
    <title>运动和方向传感器</title>
    <meta charset="UTF-8">
    <style>
      .scroll-list {
        overflow-y: auto; /* 添加垂直滚动条 */
        height: 150px; /* 设置固定高度 */
        width: 200px; /* 设置固定宽度 */
        border: 1px solid #000; /* 边框，可视化滚动区域 */
        text-align: center;
        margin: 0 auto; /* 设置左右外边距为auto，实现水平居中 */
      }
    </style>
    <script type="text/javascript">
        function getAccelerometer() {
            var acc = new Accelerometer({frequency: 60});
            acc.addEventListener('activate', () => console.log('[NEU]Ready to measure.'));
            acc.addEventListener('error', error => console.log(`[NEU]Error: ${error.name}`));
            acc.addEventListener('reading', () => {
                console.log(`[doc_sensor]Accelerometer ${acc.timestamp}, ${acc.x}, ${acc.y}, ${acc.z}.`);
            });
            acc.start();
        }
        function getGyroscope() {
            var gyr = new Gyroscope({frequency: 60});
            gyr.addEventListener('activate', () => console.log('[NEU]Ready to measure.'));
            gyr.addEventListener('error', error => console.log(`[NEU]Error: ${error.name}`));
            gyr.addEventListener('reading', () => {
                console.log(`[doc_sensor]Gyroscope ${gyr.timestamp}, ${gyr.x}, ${gyr.y}, ${gyr.z}.`);
            });
            gyr.start();
        }
        function getAbsoluteOrientationSensor() {
            var aos = new AbsoluteOrientationSensor({frequency: 60});
            aos.addEventListener('activate', () => console.log('Ready to measure.'));
            aos.addEventListener('error', error => console.log(`Error: ${error.name}`));
            aos.addEventListener('reading', () => {
                console.log(`AbsoluteOrientationSensor data: ${ros.timestamp}, ${ros.quaternion}`);
            });
            aos.start();
        }

        function listenDeviceMotionEvent() {
            if ('DeviceMotionEvent' in window) {
                window.addEventListener('devicemotion', handleMotionEvent, false);
            } else {
              console.log('此浏览器不支持DeviceMotionEvent');
            }
        }

        function handleMotionEvent(event) {
            const x = event.accelerationIncludingGravity.x;
            const y = event.accelerationIncludingGravity.y;
            const z = event.accelerationIncludingGravity.z;
            console.log(`DeviceMotionEvent data: ${event.timeStamp}, ${x}, ${y}, ${z}`);
        }

        function listenDeviceOrientationEvent() {
            if ('DeviceOrientationEvent' in window) {
                window.addEventListener('deviceorientation', handleOrientationEvent, false);
            } else {
                console.log('此浏览器不支持DeviceOrientationEvent');
            }
        }

        function listenDeviceOrientationEvent2() {
            if ('DeviceOrientationEvent' in window) {
                window.addEventListener('deviceorientationabsolute', handleOrientationEvent, false);
            } else {
                console.log('此浏览器不支持DeviceOrientationEvent');
            }
        }

        function handleOrientationEvent(event) {
            console.log(`DeviceOrientationEvent data: ${event.timeStamp}, ${event.absolute}, ${event.alpha}, ${event.beta}, ${event.gamma}`);
        }
    </script>
</head>
<body>
<div id="dcontent" class="dcontent">
    <textarea id="textarea1" rows="5" cols="30">
        文本框文本100
        文本框文本101
        文本框文本102
        文本框文本103
        文本框文本104
        文本框文本105
        文本框文本106
        文本框文本107
        文本框文本108
        文本框文本109
        文本框文本110
        文本框文本111
        文本框文本112
        文本框文本113
        文本框文本114
        文本框文本115
        文本框文本116
        文本框文本117
        文本框文本118
        文本框文本119
        文本框文本120
        文本框文本121
        文本框文本122
        文本框文本123
        文本框文本124
        文本框文本125
        文本框文本126
        文本框文本127
        文本框文本128
        文本框文本129
        文本框文本130
        文本框文本131
        文本框文本132
        文本框文本133
        文本框文本134
        文本框文本135
        文本框文本136
        文本框文本137
        文本框文本138
        文本框文本139
        文本框文本140
        文本框文本141
        文本框文本142
        文本框文本143
        文本框文本144
        文本框文本145
        文本框文本146
        文本框文本147
        文本框文本148
        文本框文本149
        文本框文本150
        文本框文本151
        文本框文本152
        文本框文本153
        文本框文本154
        文本框文本155
        文本框文本156
        文本框文本157
        文本框文本158
        文本框文本159
    </textarea>
    <br/>
    <br/>
    <br/>
    <h3>运动和方向:</h3>
    <ul class="dlist">
        <button type="button" onclick="getAccelerometer()">加速度</button>
        <button type="button" onclick="getGyroscope()">陀螺仪</button>
        <button type="button" onclick="getAbsoluteOrientationSensor()">设备方向(绝对定位)</button>
    </ul>
    <ul class="dlist">
        <li><button type="button" onclick="listenDeviceMotionEvent()">设备运动事件</button></li>
        <li><button type="button" onclick="listenDeviceOrientationEvent()">设备方向事件</button></li>
        <li><button type="button" onclick="listenDeviceOrientationEvent2()">设备方向事件(绝对定位)</button></li>
    </ul>
</div>
</body>
</html>
